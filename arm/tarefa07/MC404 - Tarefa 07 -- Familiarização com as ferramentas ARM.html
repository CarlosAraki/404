<!DOCTYPE html>
<!-- saved from url=(0054)https://susy.ic.unicamp.br:9999/mc404abe/07/enunc.html -->
<html lang="pt"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
     <title>MC404 - Tarefa 07 -- Familiarização com as ferramentas ARM</title>
  </head>
<body>	
<h1>MC404 -- Tarefa 07 -- Familiarização com as ferramentas ARM</h1>

<p>
Nesta tarefa você vai se familiarizar com as ferramentas
para o processador ARM: os programas da família GNU (montador e ligador) e o 
simulador (<tt>armsim</tt>).

</p><h3>Instalando as ferramentas</h3>

<p>O simulador <tt>armsim</tt> é um programa em java, que você deve
copiar para o seu computador. Vamos utilizar o montador e o ligador
GNU para a arquitetura ARM (veremos mais adiante no curso como esses
dois programas operam). Para instalar os programas, siga as instruções
na
página <a href="http://www.ic.unicamp.br/~ranido/livrolm/ferramentas/arm.html">Ferramentas
ARM</a>.


</p><h3>Tarefa</h3>

<p>Escreva um programa em linguagem de montagem ARM para escrever na
console uma cadeia de 16 caracteres, com o valor 'Um teste simples',
utilizando a chamada a sistema <tt>write</tt>.
Você deve também utilizar a chamada a sistema <tt>exit</tt> para
terminar a execução de seu programa.


</p><h3>Montando o programa com as ferramentas GNU</h3>

<ol>
<li>Abra uma janela de terminal e use o
montador <tt>arm-none-eabi-as</tt> para montar o seu programa, e o
ligador <tt>arm-none-eabi-ld</tt> para criar o arquivo executável
digitando

<pre>arm-none-eabi-as -o tarefa07.o tarefa07.s
arm-none-eabi-ld -o tarefa07 tarefa07.o
</pre>

no terminal. Esses dois comandos criam um arquivo de nome <tt>tarefa07</tt>, que é um arquivo binário contendo o seu programa.
<br>
<i>Note que é necessário utilizar dois programas para criar o arquivo executável do ARM: o
montador e o ligador. Veremos mais adiante no curso como eles funcionam.</i>

</li><li>Abra uma janela de terminal e inicie o simulador <tt>armsim</tt>, carregando o seu programa,
digitando

<pre>armsim -c -l tarefa07
</pre>

no terminal (note que como o programa usa o console, é necessário especificar a opção "-c").

</li><li>Execute o seu programa
digitando
<pre>g _start
</pre>
no terminal.

</li></ol>


<h3>Submissão</h3> Você deve submeter o seu programa-fonte em
linguagem de montagem ARM. O arquivo de submissão deve
chamar-se <tt>tarefa07.s</tt>, e a primeira instrução de seu programa
deve estar no endereço de rótulo <tt>_start</tt>.

Por razões de testes no Susy, o rótulo deve <tt>_start</tt> estar
no endereço 0x1000 (use a diretiva <tt>.org</tt>).

<p>
O número máximo de submissões no Susy
é 10. Teste exaustivamente seu programa localmente, usando o simulador
<tt>armsim</tt>; não use o Susy como ferramenta de teste!


</p><h3>Peso</h3>
O peso deste lab na composição da nota é 1.

<h3>Dicas</h3>
<ul>
<li>Tem um <a href="http://www.ic.unicamp.br/~ranido/mc404/write.zip">exemplo de programa ARM</a> usando as chamadas ao sistema <tt>write</tt> e 
<tt>exit</tt> nas notas de aula!
</li><li>A instrução de chamada ao sistema <tt>swi</tt> no ARM é muito similar à instrução de chamada de sistema
do <tt>sys</tt> LEG.
</li><li>Note que o seu programa deve conter uma linha com a diretiva <tt>.global _start</tt>
(o ligador usa essa informação, veremos mais adiante no curso).
</li><li>Note também que no exemplo de programa os valores númericos são sempre precedidos
pelo caractere `<tt>#</tt>' (como na instrução <tt>mov r0,#1</tt>). 
</li><li>Não vimos ainda instruções do ARM, mas você provavelmente consegue interpretar
o programa de exemplo. Neste lab você tem que fazer uma pequena modificação no
programa exemplo. Nas próximas aulas veremos em detalhes as instruções do ARM.
</li><li>Nesta tarefa você tem apenas introduzir a cadeia no programa.

</li></ul>

	
	

</body></html>